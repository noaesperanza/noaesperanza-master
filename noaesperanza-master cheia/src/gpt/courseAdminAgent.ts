// src/gpt/courseAdminAgent.ts

export const courseAdminAgent = {
    async executarTarefa(mensagem: string): Promise<string> {
      const lower = mensagem.toLowerCase()
  
      // Criar nova aula
      if (lower.includes('criar aula')) {
        // Extra√ß√£o simples do t√≠tulo da aula (voc√™ pode melhorar com NLP depois)
        const match = mensagem.match(/criar aula (.+)/i)
        const titulo = match?.[1]?.trim()
  
        if (!titulo) {
          return '‚ö†Ô∏è Para criar uma aula, diga algo como: "criar aula Introdu√ß√£o √† Nefrologia".'
        }
  
        // Simula cria√ß√£o da aula em banco ou arquivo (substituir por Supabase)
        return `‚úÖ Aula "${titulo}" criada com sucesso!`
      }
  
      // Editar aula existente
      if (lower.includes('editar aula')) {
        const match = mensagem.match(/editar aula (.+?) com o conte√∫do (.+)/i)
        const nome = match?.[1]?.trim()
        const novoConteudo = match?.[2]?.trim()
  
        if (!nome || !novoConteudo) {
          return '‚ö†Ô∏è Para editar uma aula, diga: "editar aula NomeDaAula com o conte√∫do Novo conte√∫do..."'
        }
  
        // Simula atualiza√ß√£o da aula (substituir por Supabase)
        return `‚úÖ Aula "${nome}" atualizada com o novo conte√∫do!`
      }
  
      // Listar aulas (simula√ß√£o)
      if (lower.includes('listar aulas')) {
        return `üìö Aulas dispon√≠veis:
  1. Introdu√ß√£o √† AEC
  2. Cannabis e Sa√∫de
  3. Fundamentos da Nefrologia`
      }
  
      return '‚ö†Ô∏è Comando de curso n√£o reconhecido. Use: "criar aula", "editar aula", "listar aulas"...'
    }
  }
  